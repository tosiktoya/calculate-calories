<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <meta http-equiv="x-ua-compatible" content="ie=edge">

    <title>음식 칼로리 계산 프로그램</title>


    <!-- Font Awesome -->

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

   <!-- Bootstrap core CSS -->

    <link href="{{url_for('static', filename='css/bootstrap.min.css')}}" rel="stylesheet">

    <!-- Material Design Bootstrap -->

    <link href="{{url_for('static', filename='css/mdb.min.css')}}" rel="stylesheet">

    <!-- Your custom styles (optional) -->

    <link href="{{url_for('static', filename='css/style.min.css')}}" rel="stylesheet">

    <style>

          html,

          body,

          header,

          .carousel {

          height: 100%;

          }
        img {
            max-width:40%;
            height:auto;
            max-height:40%;
        }

        @media (min-width: 800px) and (max-width: 850px) {

            .navbar:not(.top-nav-collapse) {

                background: #1C2331!important;

            }

        }
    .filebox input[type="file"] {
    position: absolute;
    width: 0;
    height: 0;
    padding: 0;
    overflow: hidden;
    border: 0;
  }

/* named upload */
.filebox .upload-name {
    display: inline-block;
  height: 35px;
  font-size:18px;
  padding: 0 10px;
    vertical-align: middle;
    background-color: #f5f5f5;
  border: 1px solid #ebebeb;
  border-radius: 5px;

}
}
    table {
        width: 100%;
        border: 1px solid #333333;
      }
      tr{
        padding: 10px;
        text-align:center;
      }
      td {
        padding: 10px;
        border: 1px solid #333333;
        text-align:center;
      }
      .b {
        border-spacing: 5px;
      }
 </style>
</head>
<body>

  <nav class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar">

    <div class="container">

      <a class="navbar-brand" href="https://cse.pusan.ac.kr/cse/index..do" target="_blank">

        <strong>PNU CSE</strong>

      </a>

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"

        aria-expanded="false" aria-label="Toggle navigation">

        <span class="navbar-toggler-icon"></span>

      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">

        <ul class="navbar-nav mr-auto">

          <li class="nav-item active">

            <a class="nav-link" href="/">HOME

              <span class="sr-only">(current)</span>

            </a>

          </li>

        </ul>



        <ul class="navbar-nav nav-flex-icons">

          <li class="nav-item">

            <a href="https://github.com/tosiktoya/calculate-calories" class="nav-link border border-light rounded"

              target="_blank">

              <i class="fa fa-github mr-2"></i>GITHUB

            </a>

          </li>

        </ul>

      </div>

    </div>

  </nav>

 <div id="carousel-example-1z" class="carousel slide carousel-fade" data-ride="carousel">
   <div class="carousel-inner" role="listbox">
     <div class="carousel-item active">
        <div class="view">
           <video class="video-intro" autoplay loop>

            <source src="https://mdbootstrap.com/img/video/Tropical.mp4" type="video/mp4" >

          </video>
          <div class="mask rgba-black-light d-flex justify-content-center align-items-center">

            <div class="text-center white-text mx-5 wow fadeIn">

            <h1>음식 이미지를 업로드하세요!</h1>
              <form method ='post' enctype=multipart/form-data>
              <div class='filebox'>
                <label for='upload_file' class="btn btn-outline-white btn-lg">음식 업로드</label>
                <input type='file' id='upload_file' name='file'>
                  <input class="upload-name" value="SELECT FILE" accept=".png, .jpeg, .jpg" multiple>
              </div>
              <p> <input type='submit' value='칼로리 계산하기!' class="btn btn-outline-white btn-lg"> </p>

              </form>
           </div>

          </div>
       </div>

     </div>

   </div>

 </div>


    <main>

    <div class="container">

      <section class="mt-5 wow fadeIn">

        <div class="row">

          <div class="col-md-6 mb-4">
              {% if img %}
              <img src="{{url_for('static', filename=img)}}" class="img-fluid z-depth-1-half">
              {% endif %}
          </div>

          <div class="col-md-6 mb-4">

            <h3 class="h3 mb-3">음식 칼로리 측정 결과</h3>

            <p>머신 러닝 SVM 모델과 딥러닝 CNN 모델을 이용하여 음식 이미지에 따른 음식 종류를 분류하고 학습 결과를 확인했습니다. 따라서 음식의 칼로리를 효과적으로 계산할 수 있습니다.</p>
              {% if img %}
                  <div>
                      <table class="b">
                          <th>음식명</th><th>질량</th><th>칼로리</th><th>100g당 칼로리</th>
                          <tr>
                              <td>{{ label }}</td><td>{{ mass }}g</td><td>{{ cal }}kcal</td><td>{{ cal_100 }}kcal</td>
                          </tr>
                      </table>
                      <p></p>
                      <table class="b">
                          <th>탄수화물</th><th>단백질</th><th>지방</th><th>콜레스테롤</th><th>나트륨</th>
                          <tr>
                              <td>{{ carbo }}</td><td>{{ pro }}g</td><td>{{ fat }}g</td><td>{{ choles }}g</td><td>{{ nat }}mg</td>
                          </tr>
                      </table>
                      <p></p>
                      {{ mes }}

                  </div>
              {% endif %}
            <hr>

            <p>2,900개 이상의 데이터를 활용하여 1.8% 미만의 데이터 오차율을 보이는 음식 칼로리 계산 프로그램을 개발했습니다.

            </p>


          </div>

        </div>

      </section>

      <hr class="my-5">

    </div>

  </main>

   <footer class="page-footer text-center font-small mt-4 wow fadeIn">

    <div class="footer-copyright py-3">


      <a> 부산대학교 졸업과제 17조 칼로리 </a>

    </div>

  </footer>

  <!-- SCRIPTS -->


  <!-- JQuery -->

  <script type="text/javascript" src="{{url_for('static', filename='js/jquery-3.3.1.min.js')}}"></script>

  <!-- Bootstrap tooltips -->

  <script type="text/javascript" src="{{url_for('static', filename='js/popper.min.js')}}"></script>

  <!-- Bootstrap core JavaScript -->

  <script type="text/javascript" src="{{url_for('static', filename='js/bootstrap.min.js')}}"></script>

  <!-- MDB core JavaScript -->

  <script type="text/javascript" src="{{url_for('static', filename='js/mdb.min.js')}}"></script>

  <!-- Initializations -->

  <script type="text/javascript">

    // Animations initialization

    new WOW().init();

  </script>

</body>
